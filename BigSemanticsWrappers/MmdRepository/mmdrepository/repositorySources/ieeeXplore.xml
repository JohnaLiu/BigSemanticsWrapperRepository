<meta_metadata_repository name="scienceDirect" package="ecologylab.bigsemantics.generated.library.ieeeXplore">

	<meta_metadata name="ieee_xplore_article" extends="scholarly_article" parser="xpath">
		<selector url_stripped="http://ieeexplore.ieee.org/xpl/articleDetails.jsp" />
		<selector url_stripped="http://ieeexplore.ieee.org:80/xpl/articleDetails.jsp" />
    <example_url url="http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=1532126" />
    
    <filter_location>
      <strip_param name="navigation" />
      <strip_param name="reload" />
    </filter_location>
    
		<scalar name="title" xpath="//h1"/>
		
		<composite name="rich_media">
		  <scalar name="title" xpath="">
		    <concatenate_values>
		      <value>PDF full text</value>
		    </concatenate_values>
		  </scalar>
		  <scalar name="location" xpath="//ul[@id='subscription-content-controls']/li/a/@href" />
		</composite>
	  
		<collection name="articles_by_authors" child_type="ieee_xplore_search"
		            xpath="//div[@id='product-vitals']//script[contains(text(), 'authorLink(')]">
			<scalar name="title" xpath=".">
        <filter regex="authorLink\(&quot;([^&quot;]+)&quot;\)" group="1" />
      </scalar>
			<scalar name="location" hide="true">
        <concatenate_values>
          <value>http://ieeexplore.ieee.org/search/searchresult.jsp?searchWithin=p_Authors:.QT.</value>
          <value from_scalar="title" />
          <value>.QT.</value>
        </concatenate_values>
      </scalar>
		</collection>		
		
		<scalar name="description" xpath="//a[@name='Abstract']/following-sibling::p" />
    
		<composite name="source" xpath="//a[starts-with(@href, '../xpl/mostRecentIssue.jsp')]">
			<scalar name="title" xpath="." />
			<scalar name="location" xpath="./@href" />
		</composite>
    
		<collection name="keywords" xpath="//div[@id='index-terms']/following-sibling::ul//a">
			<scalar name="title" xpath="." />
      <scalar name="location" xpath="./@href" />
		</collection>
    
    <composite name="references_page" type="ieee_xplore_references">
      <scalar name="title" xpath="//h1" />
      <scalar name="ieee_xplore_id" xpath="//meta[@property='og:url']/@content" hide="true">
        <filter regex="arnumber=(\d+)" group="1" />
      </scalar>
      <scalar name="location">
        <concatenate_values>
          <value>http://ieeexplore.ieee.org/xpl/references.jsp?arnumber=</value>
          <value from_scalar="ieee_xplore_id" />
        </concatenate_values>
      </scalar>
    </composite>
    
    <composite name="citations_page" type="ieee_xplore_citations">
      <scalar name="title" xpath="//h1" />
      <scalar name="ieee_xplore_id" xpath="//meta[@property='og:url']/@content" hide="true">
        <filter regex="arnumber=(\d+)" group="1" />
      </scalar>
      <scalar name="location">
        <concatenate_values>
          <value>http://ieeexplore.ieee.org/xpl/citations.jsp?arnumber=</value>
          <value from_scalar="ieee_xplore_id" />
        </concatenate_values>
      </scalar>
    </composite>
    
		<scalar name="doi" scalar_type="ParsedURL" hide="true"
            xpath="//a[starts-with(@href, 'http://dx.doi.org/10.1109/')]/@href"
            comment="The digital object identifier of the article" />
	</meta_metadata>
  
  
  <meta_metadata name="ieee_xplore_references" extends="compound_document" parser="xpath">
    <selector url_stripped="http://ieeexplore.ieee.org/xpl/references.jsp" />
    <selector url_stripped="http://ieeexplore.ieee.org:80/xpl/references.jsp" />
    
    <scalar name="ieee_xplore_id" scalar_type="String" hide="true" />
    
    <collection name="references" child_type="scholarly_article" xpath="//div[@id='referenceContent']//li">
      <scalar name="title" xpath="." />
      <scalar name="location" xpath="./a/@href" />
    </collection>
  </meta_metadata>
  
  
  <meta_metadata name="ieee_xplore_citations" extends="compound_document" parser="xpath">
    <selector url_stripped="http://ieeexplore.ieee.org/xpl/citations.jsp" />
    <selector url_stripped="http://ieeexplore.ieee.org:80/xpl/citations.jsp" />
    
    <scalar name="ieee_xplore_id" scalar_type="String" hide="true" />
    
    <collection name="citations" child_type="scholarly_article" xpath="//div[@id='citationContent']//li">
      <scalar name="title" xpath="." />
      <scalar name="location" xpath="./a/@href" />
    </collection>
  </meta_metadata>
  
  
  <meta_metadata name="ieee_xplore_search" extends="search" parser="xpath">
    <generic_type_var name="SR" arg="ieee_xplore_article" />
    
    <selector url_stripped="http://ieeexplore.ieee.org/search/searchresult.jsp" />
    <selector url_stripped="http://ieeexplore.ieee.org:80/search/searchresult.jsp" />
    
    <filter_location>
      <strip_param name="newSearch" />
      <strip_param name="x" />
      <strip_param name="y" />
    </filter_location>
    
    <collection name="search_results" xpath="//ul[@class='Results']/li">
      <scalar name="title" xpath=".//h3" />
      <scalar name="location" xpath=".//h3/a/@href" />
    </collection>
  </meta_metadata>
  
  
  <meta_metadata name="ask_nature_group" extends="compound_document" parser="xpath" user_agent_name="chrome" >
  	<selector url_stripped="http://www.asknature.org/browse" domain="asknature.org" />
  	<example_url url="http://www.asknature.org/browse?selected=strategy|1&amp;type=aof" />
  	
  	<scalar name="title" label="group" xpath="//a[@class='selected']" /> 
  
  	<collection name="subgroups" child_type="ask_nature_subgroup" child_tag="subgroup" 
  				xpath="//ul[@id='accordion_list_2']/div/dt">
  		<scalar name="title" xpath="./text()" />
  		<collection name="functions" child_type="ask_nature_function" xpath="./following-sibling::dd[1]/a" />
  	</collection>
  </meta_metadata>
     
  <meta_metadata name="ask_nature_subgroup" extends="compound_document" parser="xpath" user_agent_name="chrome" >
  	<scalar name="title" label="subgroup"  /> 
  	<collection name="functions" child_type="ask_nature_function" child_tag="function"/>
  </meta_metadata>
  
  <meta_metadata name="ask_nature_function" extends="compound_document" parser="xpath" user_agent_name="chrome" >
  	<scalar name="title" label="function"  /> 
  	<!-- <collection name="strategies" child_type="ask_nature_strategy" child_tag="strategy"  />    -->
  </meta_metadata>

 

  <meta_metadata name="ask_nature_strategy" extends="compound_document" parser="xpath" user_agent_name="chrome">
	<selector url_path_tree="http://www.asknature.org/strategy/" domain="asknature.org" />
	<example_url url="http://www.asknature.org/strategy/efd9f97ba5240b796b855c9bd5ee8397" />
	<example_url url="http://www.asknature.org/strategy/b91cc7c16934434bb7c01ecbd8ad286c" />    
  	
	<scalar name="title" xpath="//div[@id='content_header']/h1[@id='content_title']" />
	<scalar name="description" label="description" xpath="//div[@class='section_change']/h2[@class='headline']/text()" />
	<scalar name="summary" scalar_type="String" xpath="//dd[@class='section_content'][2]" />
<!--		<scalar name="group_name" scalar_type="String" xpath="//ul[@class='taxonomy-list']/li[1]/a" />   -->
	
	<composite name="image" xpath="//div[@id='slideshow']//img[@class='featured_image']">
		<scalar name="location" xpath="./@src" />
	</composite>    
	<scalar name="inspiring_organism" scalar_type="String" xpath="//dd[@class='section_content sc_open'][1]/i" />
	<scalar name="application_ideas" scalar_type="String" xpath="//dd[@class='section_content sc_open'][2]/p[1]" >
		<filter regex="Application Ideas : " replace="" />
		<filter regex="Application Ideas: " replace="" />																					<!-- combine these two -->
	</scalar>
	<scalar name="interested_indstrial_sectors" scalar_type="String" xpath="//dd[@class='section_content sc_open'][2]/p[2]" >
		<filter regex="Industrial Sector\(s\) interested in this strategy: " replace="" />
	</scalar>
	
	<scalar name="expert_group" scalar_type="String" xpath="//a[@name='Experts']/following-sibling::dd[@class='section_content sc_open'][1]/div/a" />
	<scalar name="experts" scalar_type="String" xpath="//a[@name='Experts']/following-sibling::dd[@class='section_content sc_open'][1]/div/text()[2]" />
	<scalar name="universitys" scalar_type="String" xpath="//a[@name='Experts']/following-sibling::dd[@class='section_content sc_open'][1]/div/text()[3]" />
<!--	<composite name="expert" type="ask_nature_expert" xpath="//a[@name='Experts']/following-sibling::dd[@class='section_content sc_open'][1]/div" >
		<scalar name="group" xpath="./a" />
		<scalar name="title" xpath="./text()[2]" />
		<scalar name="affiliation" xpath="./text()[3]" />
	</composite>
	  -->
	<composite name="biomimicry_taxonomy" type="ask_nature_group" xpath="//ul[@class='taxonomy-list']/li[1]/a" >
		<scalar name="title" xpath="./text()"  />
		<scalar name="location" xpath="./@href" />  
	</composite>
	
	<!-- looking at the subgroups, you can follow the link on those and get that data separately
	 -->
	
  </meta_metadata>

<!-- currently does not have support if more than one expert is listed, but this doesn't happen often... -->
 <meta_metadata name="ask_nature_expert" parser="xpath" extends="document" >
 	<scalar name="organization" scalar_type="String" />
 	<scalar name="expert" scalar_type="String" />
    <scalar name="university" scalar_type="String" />   
 </meta_metadata>   

<!-- 
	 image 
     <scalar name="red list status" scalar_type="String" />
     <scalar name="habitats" scalar_type="String" />   -->
  
  
</meta_metadata_repository>	