<meta_metadata_repository name="fashion" package="ecologylab.bigsemantics.generated.library.fashion">
<!-- 
	<meta_metadata name="fashion_product" extends="commodity" parser="xpath">
		<collection name="avaiable_sizes" child_scalar_type="String" />
		<collection name="avaiable_colors" child_scalar_type="String" />	
		<collection name="details" child_scalar_type="String" />
	</meta_metadata>

	<meta_metadata name="fashion_review" parser="xpath" extends="compound_document" >
		<scalar name="rating" scalar_type="String" />
		<scalar name="description" scalar_type="String" />
		<collection name="review" child_type="fashion_review" />
	</meta_metadata>
 -->	
	<meta_metadata name="fashion_reviewer" parser="xpath" extends="person" >
		<scalar name="height" scalar_type="String" />
	</meta_metadata>
		
	<meta_metadata name="forever_21" extends="product" parser="xpath" user_agent_name="chrome" >
		<selector url_stripped="http://www.forever21.com/Product/Product.aspx" />
		<example_url url="http://www.forever21.com/Product/Product.aspx?BR=f21&amp;Category=sale_women&amp;ProductID=2000072158&amp;VariantID=" />
		
		<scalar name="title" xpath="//h1[@class='product-title']" />
		<scalar name="price" xpath="//span[@itemprop='price']/p" >
			<filter regex="Was:\$[0-9]*.[0-9]*Now:" replace="" />
		</scalar>
		<scalar name="description" xpath="//span[@id='product_overview']/p[1]" />
		<composite name="image" xpath="//div[@class='zoomPad']/img" >
			<scalar name="location" xpath="./@src" />
		</composite>
		
		<collection name="available_colors" child_type="document" xpath="//div[@id='ctl00_MainContent_upColorList']/select/option[contains(@value, 'large')]" >
			<scalar name="title" label="" xpath="." />
		</collection>
		<collection name="details" child_type="document" xpath="//span[@id='product_overview']/ul/li" >
			<scalar name="title" label="" xpath="." />
		</collection>
		
		<collection name="reviews" xpath="//div[@class='pr-review-wrap']" >
			<scalar name="title" xpath=".//p[@class='pr-review-rating-headline']/text()" />
			<scalar name="rating" xpath=".//div[@class='pr-review-rating']/span/text()" >
				<filter regex="$" replace=" out of 5" />
			</scalar>
			<scalar name="description" xpath=".//p[@class='pr-comments']/text()" />
		</collection>
		
	</meta_metadata>
	
	
	<!-- can make these non-expandable ?? -->
	
	
	
	
	
	
	
	
	
	<meta_metadata name="modcloth_rating" extends="document" >
		<scalar name="title" label="overall_rating" />
		<scalar name="fit" scalar_type="String" />
		<scalar name="length" scalar_type="String" />
		<scalar name="quality" scalar_type="String" />
	</meta_metadata>
	
	<meta_metadata name="modcloth" extends="product" parser="xpath" user_agent_name="chrome" >
		<selector url_regex="http://www.modcloth.com/shop/[a-z-]*/[a-z-]*" domain="modcloth.com" />
		<example_url url="http://www.modcloth.com/shop/dresses/midnight-sun-dress-in-navy" />
<!--		 maybe some urls for other products besides dresses -->

		<scalar name="title" xpath="//h1[@id='product-name']" />    
		<scalar name="price" xpath="//h3[@id='product-price']/span[@itemprop='price']" />
 		<composite name="image" xpath="//a[@id='zoomable']" >
			<scalar name="location" xpath="./@href" />
		</composite>
 		<scalar name="overall_rating" xpath="//div[@id='overall_rating']/meta/@content" />
		<scalar name="designer" scalar_type="String" xpath="//h2[@id='product-brand']/a" />
		<scalar name="description" xpath="//div[@id='pdp_limited_description']/p" />
		
		<collection name="reviews" xpath="//div[@class='review_wrapper user-review']" >
			<scalar name="title" xpath="./div[1]/div[@class='review_info_name']" />
			<scalar name="overall_rating" xpath="./div[2]/div[@class='ratings']/div[1]/div/div/@class" />   
			<scalar name="description" xpath=".//div[@class='review_comment']" />
		</collection> 
		<!-- do we actually have support for collections of strings?
		<collection name="details" xpath="//div[@id='pdp_details']/ul/li" />
		
		<collection name="avalailable_sizes" 
			xpath="//input[@class='ui-variant-value size-button ui-corner-all in-stock']/@value" />
		<scalar name="sizing_reccomendation" scalar_type="String" xpath="//p[@id='sizing-recommendation']" />
		-->
		
		 <!--	 		<composite name="reviewer" xpath="./div[1]" >
				<scalar name="title" xpath="./div[@class='review_info_name']" />
				<scalar name="height" xpath=".//div[contains(strong, 'Height')]" />
				<scalar name="bra" scalar_type="String" xpath=".//div[contains(strong, 'Bra')]" />
				<scalar name="waist" scalar_type="String" xpath=".//div[contains(strong, 'Waist')]" />
				<scalar name="hips" scalar_type="String" xpath=".//div[contains(strong, 'Hips')]" />
			</composite>
			scalar name="item_size" scalar_type="String" xpath="./div[@class='item_size']" /> 
			<composite name="ratings" type="modcloth_rating" xpath="./div[2]/div[@class='ratings']" >
				<scalar name="title" xpath="./div[1]/div/div/@class" >
					<filter regex="is-" replace="" />
				</scalar>
				<scalar name="fit" xpath="./div[2]/div/span[2]" />
				<scalar name="length" xpath="./div[3]/div/span[2]" />
				<scalar name="quality" xpath="./div[4]/div/span[2]" />
			</composite>  -->
	</meta_metadata>
	
	

	
	
	
	
	
	
	
	
</meta_metadata_repository>