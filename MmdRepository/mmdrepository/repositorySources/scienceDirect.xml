<meta_metadata_repository name="scienceDirect" package="ecologylab.semantics.generated.library.scienceDirect">

	<meta_metadata name="science_direct_article" extends="scholarly_article" parser="xpath"
                 comment="Information about the article">
		<selector url_path_tree="http://www.sciencedirect.com/science/article" />
    <example_url url="http://www.sciencedirect.com/science/article/pii/S1570826808000693" />
    
		<scalar name="title" xpath="//h1[@class='svTitle']"/>
		<collection name="authors" xpath="//ul[@class='authorGroup']/li" comment="All authors">
			<scalar name="title" xpath="a[1]" />
			<scalar name="location" xpath="a[1]/@href" />
		</collection>		
		<scalar name="description" xpath="//div[@class='svAbstract']/p" />
		<composite name="source" xpath="//div[@class='publicationHead']">
			<scalar name="title" xpath="div[@class='title']/a/span/text()" />
			<scalar name="location" xpath="p/a/@href" />
			<scalar name="volume_and_issue" xpath="p/a/text()" />
			<scalar name="date" xpath="p/text()">
				<filter regex=",\s[Pages \d*â€“\d*]*" replace="" />
			</scalar>
		</composite>
		<collection name="keywords" xpath="//ul[@class='keyword']/li">
			<scalar name="tag_name" xpath=".">
				<filter regex=";" replace="" />
			</scalar>
		</collection>
		<collection name="references" child_type="scholarly_article"
                xpath="//ol[@class='references']/li">
			<scalar name="title" xpath="ul/li[@class='title']" />
			<collection name="authors" xpath="ul/li[@class='author']">
		        <field_parser name="regex_split" regex=",\s" trim="true" />
		        <scalar name="title" field_parser_key="$0" />
	      	</collection>
	      	<composite name="source" xpath="ul/li[@class='source']/p">
	      		<scalar name="title">
	      			<filter regex=",\s.*" replace="" />
	      		</scalar>
	      	</composite>
<!-- 	      	<scalar name="location" xpath="ul/li/[@class='refPlaceHolder']/div[2]/a/@href" /> -->
		</collection>
		<collection name="citations" xpath="//div[contains(@id, 'mlktCiteTD')]">
			<scalar name="title" xpath="text()" />
			<scalar name="location" xpath="a/@href" />
		</collection>
		
		<scalar name="doi" xpath="//a[@id='ddDoi']/@href" hide="true" comment="The digital object identifier of the article" scalar_type="ParsedURL" />
	</meta_metadata>
  
</meta_metadata_repository>	